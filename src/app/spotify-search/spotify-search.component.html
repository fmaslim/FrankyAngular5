<h1>Spotify Search</h1>

<p class="container">
  <input type="text"
         [value]="query"
         class="form-control"
         placeholder="Enter a search string"
         (keydown.enter)="submit(newquery.value)" #newquery>

  <button type="button" (click)="submit(newquery.value)" class="btn btn-info">Search</button>
  <br />
  <button type="button" (click)="getEnvironmentVariable()" class="btn btn-warning">Environment.Google</button>
</p>

<div *ngIf="results">
  <div *ngIf="!results.length">
    No tracks were found with the term '{{ query }}'
  </div>


  <div *ngIf="results.length">
    <div *ngFor="let t of results">
      <div class="thumbnail">
        <div class="content">

          <img src="{{ t.album.images[0].url }}" class="img-responsive">

          <div class="caption">
            <h3>
              <a [routerLink]="['/artists', t.artists[0].id]">
                {{ t.artists[0].name }}
              </a>
            </h3>
            <br />
            <p>
              <a [routerLink]="['/tracks', t.id]">
                {{ t.name }}
              </a>
            </p>
          </div>

          <div class="attribution">
            <a [routerLink]="['/albums', t.album.id]">
              {{ t.album.name }}
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
